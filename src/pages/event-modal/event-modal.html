<!--
  Generated template for the EventModalPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar color="primary">
    <!-- Logo Image -->
    <ion-title>
      <img src="assets/imgs/rebelthon_logo_white.png" />
    </ion-title>
    <!-- Button bar to hold button to close modal -->
    <ion-buttons start>
      <button ion-button icon-only (click)="dismiss()">
        <ion-icon item-right name="ios-close-outline"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content>

      <!-- Uses Angular Directives to display the information in the .ts file from the event object passed to the page -->

      <ion-item>
        <h2>{{event.title}}</h2>
        <p>{{event.location}}</p><br/>
        <p>{{event.startDate | date:'EEEE, MMMM d, yyyy' }} <span *ngIf="event.startDate == event.endDate"> to {{event.endDate | date:'MMMM d'}}</span></p>
        <p>{{event.startDate | date:'shortTime':'UTC'}} to {{event.endDate | date:'shortTime':'UTC'}}</p>
      </ion-item>

      <ion-item>
        <h5>Notes</h5>
        <p>{{event.notes}}</p>
      </ion-item>
  <br>
  <div padding-horizontal>
    <!-- Checks if the event is already in the user's calendar and then displays the appropriate message -->
    <p class="center" *ngIf="status">This Event is Already in Your Calendar!</p>
    <button *ngIf="!status" ion-button block (click)="addToCalendar()">Add to Calendar</button>
  </div>

  <!-- If the user is an admin, the additional fields are shown to edit or delete the event -->
  <div *ngIf="admin">
  <br>
  <br>
  <hr>
  <p class="center">Admin</p>
  <hr>
  <div padding-horizontal>
    <button color="primary" ion-button block (click)="updateEvent(event)">Update Event</button>
  </div>
  <br>
  <div padding-horizontal>
    <button color="danger" ion-button block (click)="deleteEvent(event.key)">Delete Event</button>
  </div>
  </div>
</ion-content>
